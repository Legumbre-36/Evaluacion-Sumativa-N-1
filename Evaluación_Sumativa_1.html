<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nicolás Marchant">

<title>Evaluación Sumativa N°1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Evaluación_Sumativa_1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Evaluación_Sumativa_1_files/libs/quarto-html/quarto.js"></script>
<script src="Evaluación_Sumativa_1_files/libs/quarto-html/popper.min.js"></script>
<script src="Evaluación_Sumativa_1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Evaluación_Sumativa_1_files/libs/quarto-html/anchor.min.js"></script>
<link href="Evaluación_Sumativa_1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Evaluación_Sumativa_1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Evaluación_Sumativa_1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Evaluación_Sumativa_1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Evaluación_Sumativa_1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>
  /* Justificar texto del cuerpo */
  body {
    text-align: justify;
    text-justify: inter-word;
    hyphens: auto;
  }
  /* Evitar justificar títulos y código */
  h1, h2, h3, h4, h5, h6, pre, code {
    text-align: left;
  }
</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Evaluación Sumativa N°1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>Nicolás Marchant </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="instrucciones-para-reproducir-este-informe" class="level2">
<h2 class="anchored" data-anchor-id="instrucciones-para-reproducir-este-informe">Instrucciones para reproducir este informe</h2>
<ol type="1">
<li>Instalar R (versión igual o superior a 4.3).</li>
<li>IInstalar los siguientes paquetes si no están presentes. Para hacerlo, se debe crear un nuevo chunk en el documento (Ctrl + Alt + I) y copiar el siguiente código dentro de él: <code>install.packages(c("tidyverse", "ggplot2", "skimr", "haven", "rio"))</code></li>
</ol>
<p><strong><em>IMPORTANTE:</em></strong> Para hacer reproducible este informe, se debe colocar <code>enpg2022.rds</code> en una carpeta llamada “Evaluación 1/” dentro del mismo proyecto.</p>
</section>
<section id="evaluación-sumativa-n1-reproducibilidad-y-comunicación-de-resultados" class="level2">
<h2 class="anchored" data-anchor-id="evaluación-sumativa-n1-reproducibilidad-y-comunicación-de-resultados">Evaluación Sumativa N°1 – Reproducibilidad y comunicación de resultados</h2>
<p><br>
En esta actividad, cada estudiante desarrollará un informe reproducible y replicable utilizando Quarto (archivo .qmd que debe compilar correctamente a .html). El objetivo principal es aplicar los principios de reproducibilidad, documentación clara y comunicación efectiva de resultados, a partir del análisis de un conjunto de datos real. Para ello, trabajarán con la Encuesta Nacional de Drogas (SENDA).</p>
<p>Lo primero que se hara es primero abrir nuestra base de datos, con el fin de ver que cuantas observaciones y variables tenemos para tener en consideración de este ejercicio. Además es importante remarcar cuales serán las librerias necesarias para poder interactuar con la Encuesta Nacional de Drogas.</p>
<p><strong><em>Si no se tiene las librerias usar la opción install packages de las siguientes librerias que se trabajaran:</em></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Semilla aleatoria para asegurar la reproducibilidad</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Librerias utilizadas</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   4.0.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr) </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven) </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Usar libreria rio para importar y abrir la carpeta guardada de la encuesta SENDA (Se guardo en carpeta denominada, Evaluación 1)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>enpg2022 <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"Evaluación 1/enpg2022.RDS"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Es por ello que ahora teniendo en consideración se tendran seleccionado las siguientes variables:</p>
<ul>
<li><p>oh_1 (¿Ha tomado Ud. alcohol alguna vez en su vida? <em>Variable principal</em> )</p></li>
<li><p>oh_3 (¿Qué edad tenía cuando consumió por primera vez alcohol? <em>Variable secundaria 1</em>)</p></li>
<li><p>oh_5 (Pensando solamente en los últimos 30 días, ¿cuántos días del mes ha tomado algún tipo de alcohol? <em>Variable secundaria 2</em>)</p></li>
<li><p>oh_17 (¿Algún familiar, amigo, médico u otro profesional de la salud ha mostrado preocupación por la forma en que usted consume bebidas alcohólicas o le ha sugerido que deje de beber? <em>Variable secundaria 3</em>).</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>data_reducida <span class="ot">&lt;-</span> enpg2022 <span class="sc">%&gt;%</span> <span class="fu">select</span>(OH_1, OH_3, OH_5, OH_17)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Estas variables se escogieron por la influencia del alcohol en los roles sociales en el país, y por sobre todo es importante saber si el consumo de este a llegado a niveles preocupantes.</p>
<section id="exploración-inicial-de-los-datos-revisión-de-estructura-tipos-de-variables-detección-de-valores-perdidos-distribución-de-variables-y-primeras-observaciones-relevantes." class="level4">
<h4 class="anchored" data-anchor-id="exploración-inicial-de-los-datos-revisión-de-estructura-tipos-de-variables-detección-de-valores-perdidos-distribución-de-variables-y-primeras-observaciones-relevantes.">1. Exploración inicial de los datos: revisión de estructura, tipos de variables, detección de valores perdidos, distribución de variables y primeras observaciones relevantes.</h4>
<p>Abrir y ver que tipos de variable hay en data_reducida con summary() para remarcar los elementos que hay en la libreria, y con sum y la funcion is.na para ver cuantos NA hay en total por todas las variables.</p>
<div class="cell" data-caption="Resumen de estructura y valores perdidos iniciales">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_reducida) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      OH_1            OH_3           OH_5            OH_17      
 Min.   : 1.00   Min.   : 5.0   Min.   : 1.000   Min.   :0.000  
 1st Qu.: 1.00   1st Qu.:16.0   1st Qu.: 2.000   1st Qu.:0.000  
 Median : 1.00   Median :18.0   Median : 3.000   Median :0.000  
 Mean   : 1.43   Mean   :21.6   Mean   : 6.622   Mean   :0.152  
 3rd Qu.: 2.00   3rd Qu.:20.0   3rd Qu.: 5.000   3rd Qu.:0.000  
 Max.   :99.00   Max.   :99.0   Max.   :99.000   Max.   :4.000  
                 NA's   :4679   NA's   :11448    NA's   :9040   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(data_reducida))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25167</code></pre>
</div>
</div>
<p>A partir del <em>Summary()</em> y del <em>Sum(),</em> se puede remarcar que en la <code>data_reducida</code> existen <em>4 variables numéricas</em>, correspondientes a las preguntas seleccionadas del módulo de consumo de alcohol. Asimismo, mediante <code>sum(is.na(data_reducida))</code> se observa que el conjunto presenta <em>25.167 valores perdidos</em> en total, distribuidos entre las cuatro variables.</p>
<p>Estos valores perdidos pueden deberse a distintos factores habituales en encuestas de consumo de sustancias, como ausencia de respuesta, saltos lógicos del cuestionario (por ejemplo, personas que nunca han consumido alcohol no responden edad de inicio), o errores de captura. Por ello, es importante considerar estos NA antes de continuar con el análisis, ya que afectarán los cálculos de frecuencias, promedios y asociaciones bivariadas.</p>
</section>
<section id="limpieza-y-preparación-tratamiento-de-valores-perdidos-recodificaciones-necesarias-creación-de-categorías-si-corresponde-y-cualquier-ajuste-que-permita-un-análisis-válido-y-replicable." class="level4">
<h4 class="anchored" data-anchor-id="limpieza-y-preparación-tratamiento-de-valores-perdidos-recodificaciones-necesarias-creación-de-categorías-si-corresponde-y-cualquier-ajuste-que-permita-un-análisis-válido-y-replicable.">2. Limpieza y preparación: tratamiento de valores perdidos, recodificaciones necesarias, creación de categorías si corresponde, y cualquier ajuste que permita un análisis válido y replicable.</h4>
<p>Hay variables que tienen resultados extremos por lo tanto se deben transforma en NA para que no afecten el analisis (en el informe de senda los valores 88 y 99 son generalmente valores perdidos). Por lo tanto ahora hay que limpiarlos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data_reducida <span class="ot">&lt;-</span> data_reducida <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">OH_1 =</span> <span class="fu">na_if</span>(OH_1, <span class="dv">88</span>),</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">OH_1 =</span> <span class="fu">na_if</span>(OH_1, <span class="dv">99</span>), </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">OH_3 =</span> <span class="fu">na_if</span>(OH_3, <span class="dv">88</span>), </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">OH_3 =</span> <span class="fu">na_if</span>(OH_3, <span class="dv">99</span>), </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">OH_5 =</span> <span class="fu">na_if</span>(OH_5, <span class="dv">88</span>), </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">OH_5 =</span> <span class="fu">na_if</span>(OH_5, <span class="dv">99</span>), </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">OH_17 =</span> <span class="fu">na_if</span>(OH_17, <span class="dv">88</span>),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">OH_17 =</span> <span class="fu">na_if</span>(OH_17, <span class="dv">99</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ya teniendo estos datos en consideración es ideal transformar las OH_1 y OH_17 en variables categoricas debido al tipo de respuesta que entregan.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>data_reducida <span class="ot">&lt;-</span> data_reducida <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">OH_1 =</span> <span class="fu">factor</span>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>      OH_1,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Sí ha consumido"</span>, <span class="st">"No ha consumido"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">OH_17 =</span> <span class="fu">factor</span>(</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>      OH_17,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"No"</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Sí, pero no en el último año"</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Sí, en el último año"</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Y por sobre todo para no perder el hilo de que es lo que refiere cada variable es mejor cambiarles de nombre para que nos sea más claro en su compresion, aplicamos un glimpse para ver que todos los cambios anteriores esten bien implementados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: recodificacion</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>data_reducida <span class="ot">&lt;-</span> data_reducida <span class="sc">%&gt;%</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">consumo_vida         =</span> OH_1,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">edad_inicio          =</span> OH_3,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">dias_consumo_30      =</span> OH_5,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">preocupacion_consumo =</span> OH_17</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(data_reducida)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 17,454
Columns: 4
$ consumo_vida         &lt;fct&gt; No ha consumido, No ha consumido, Sí ha consumido…
$ edad_inicio          &lt;dbl+lbl&gt; NA, NA, 20, 15, 24, 16, 10, 10, 35, 17, 17, 1…
$ dias_consumo_30      &lt;dbl+lbl&gt; NA, NA, NA, 30,  4, NA,  4, NA, NA,  3, NA, N…
$ preocupacion_consumo &lt;fct&gt; NA, NA, NA, "No", "No", NA, "No", NA, NA, "No", N…</code></pre>
</div>
</div>
</section>
<section id="análisis-descriptivo-presentación-de-una-tabla-general-de-descriptivos-que-incluya-las-variables-seleccionadas." class="level4">
<h4 class="anchored" data-anchor-id="análisis-descriptivo-presentación-de-una-tabla-general-de-descriptivos-que-incluya-las-variables-seleccionadas.">3. Análisis descriptivo: presentación de una tabla general de descriptivos que incluya las variables seleccionadas.</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tabla-descriptivos</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Estadísticos Descriptivos de Variables Seleccionadas (Base Limpia)"</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_reducida)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          consumo_vida    edad_inicio    dias_consumo_30 
 Sí ha consumido:12775   Min.   : 5.00   Min.   : 1.000  
 No ha consumido: 4648   1st Qu.:16.00   1st Qu.: 2.000  
 NA's           :   31   Median :18.00   Median : 3.000  
                         Mean   :18.63   Mean   : 4.483  
                         3rd Qu.:20.00   3rd Qu.: 4.000  
                         Max.   :62.00   Max.   :30.000  
                         NA's   :5223    NA's   :11600   
                   preocupacion_consumo
 No                          :8002     
 Sí, pero no en el último año: 184     
 Sí, en el último año        : 228     
 NA's                        :9040     
                                       
                                       
                                       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(data_reducida)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">data_reducida</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">17454</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 23%">
<col style="width: 10%">
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">consumo_vida</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Sí : 12775, No : 4648</td>
</tr>
<tr class="even">
<td style="text-align: left;">preocupacion_consumo</td>
<td style="text-align: right;">9040</td>
<td style="text-align: right;">0.48</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">No: 8002, Sí,: 228, Sí,: 184</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 20%">
<col style="width: 12%">
<col style="width: 18%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 3%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">edad_inicio</td>
<td style="text-align: right;">5223</td>
<td style="text-align: right;">0.70</td>
<td style="text-align: right;">18.63</td>
<td style="text-align: right;">5.24</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">62</td>
<td style="text-align: left;">▅▇▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">dias_consumo_30</td>
<td style="text-align: right;">11600</td>
<td style="text-align: right;">0.34</td>
<td style="text-align: right;">4.48</td>
<td style="text-align: right;">5.50</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>A partir de este analisis descriptivo se puede destacar el consumo de alcohol alguna vez en la vida presenta una alta prevalencia en la muestra (73%), mientras que la edad de inicio se concentra principalmente entre los 16 y 20 años, con una mediana de 18, mostrando un patrón de inicio temprano y algunos casos atípicos sobre los 30 años. Entre quienes han consumido, la frecuencia mensual es mayoritariamente baja, con una mediana de 3 días y valores típicos entre 2 y 4, aunque existe un pequeño grupo con consumo intensivo de 15 a 30 días. Respecto a la preocupación externa, la gran mayoría de quienes tienen datos válidos reporta no haber recibido advertencias sobre su forma de beber, mientras que las señales de preocupación—recientes o pasadas—representan porcentajes muy bajos. En conjunto, los datos sugieren un consumo ampliamente extendido, generalmente ocasional y social, pero con un subgrupo reducido que presenta patrones potencialmente problemáticos y que no parece ser reconocido como tal por su entorno.</p>
</section>
<section id="análisis-bivariado-cruce-de-la-variable-principal-con-cada-una-de-las-tres-variables-secundarias-generando-al-menos" class="level4">
<h4 class="anchored" data-anchor-id="análisis-bivariado-cruce-de-la-variable-principal-con-cada-una-de-las-tres-variables-secundarias-generando-al-menos">4. Análisis bivariado: cruce de la variable principal con cada una de las tres variables secundarias, generando al menos:</h4>
</section>
<section id="o-tres-gráficos-bivariados-uno-por-cada-cruce." class="level4">
<h4 class="anchored" data-anchor-id="o-tres-gráficos-bivariados-uno-por-cada-cruce.">o Tres gráficos bivariados, uno por cada cruce.</h4>
<ul>
<li><strong><em>Cruce de <code>consumo_vida</code> y de <code>edad_inicio</code></em></strong> :</li>
</ul>
<p>Este cruce corresponde a la relación entre una <strong>variable categórica</strong> (<em>consumo_vida</em>: ha consumido alcohol alguna vez) y una <strong>variable numérica</strong> (<em>edad_inicio</em>: edad a la que comenzó a consumir). El uso de un <em>boxplot</em> es adecuado ya que permite comparar la distribución de la edad de inicio entre los grupos definidos por la variable categórica.</p>
<p>El código utilizado fue:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grafico-edad-inicio</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 8</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Gráfico 1: Distribución de la Edad de Inicio del Consumo de Alcohol"</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  data_reducida <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(edad_inicio)), </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> consumo_vida, <span class="at">y =</span> edad_inicio)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span> </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Edad de inicio según de consumo de alcohol alguna vez en la vida"</span>, </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Consumo de alcohol alguna vez en la vida"</span>,</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Edad de inicio"</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Evaluación_Sumativa_1_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A partir del boxplot se observa que, dentro del grupo que declara haber consumido alcohol alguna vez, los <strong>cuartiles 2, 3 y 4</strong> se concentran principalmente en edades <strong>inferiores o cercanas a los 20 años</strong>, lo que sugiere que la mayor parte de quienes han consumido alcohol comenzaron a hacerlo relativamente temprano. Las edades de inicio sobre los <strong>30 años</strong> aparecen como valores más atípicos, indicando que son menos frecuentes dentro de la distribución.</p>
<p>Este patrón muestra una tendencia clara hacia un inicio temprano del consumo, algo consistente con estudios previos sobre consumo de alcohol en la población general.</p>
<ul>
<li><strong><em>Cruce de <code>consumo_vida</code> y de <code>dias_consumo_30</code>:</em></strong></li>
</ul>
<p>En este cruce, también se empleó un diagrama de caja para observar la relación entre el consumo de alcohol en la vida y la cantidad de días que se bebió en los últimos 30 días. Nuevamente se trabaja únicamente con el grupo que declaró haber consumido, ya que quienes no han bebido no pueden aportar valores válidos en esta variable.</p>
<p>El código es el siguiente:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grafico-dias-consumo</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 8</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Gráfico 2: Días de Consumo de Alcohol en los Últimos 30 Días"</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  data_reducida <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(dias_consumo_30)), </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> consumo_vida, <span class="at">y =</span> dias_consumo_30)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span> </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Días del mes tomados, al haber consumido alcohol alguna vez en la vida"</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Consumo de alcohol alguna vez en la vida"</span>,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Días de alcohol consumido en el mes"</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Evaluación_Sumativa_1_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>El boxplot muestra la distribución de los <em>días de consumo de alcohol en los últimos 30 días</em> entre las personas que han declarado haber consumido alcohol alguna vez en su vida. La mediana se ubica en niveles muy bajos (alrededor de 2–3 días al mes), lo que indica que la mayoría de quienes han bebido alguna vez mantienen un consumo infrecuente o esporádico.</p>
<p>Asimismo, los cuartiles inferior y superior (Q1–Q3) están concentrados entre 1 y 5 días, reforzando la idea de que el patrón más común es un uso ocasional. Sin embargo, aparecen varios valores extremos o casos atípicos que alcanzan entre 15 y 30 días de consumo. Estos representan a un grupo reducido de personas que declara beber con mucha más frecuencia durante el mes.</p>
<p>En conjunto, el gráfico evidencia que la mayoría del grupo mantiene un consumo ocasional, pero existe un subconjunto pequeño con niveles de consumo intensivo, lo que sugiere heterogeneidad dentro de los patrones de uso mensual de alcohol.</p>
<ul>
<li><strong><em>Cruce de <code>consumo_vida</code> y de <code>preocupacion_consumo</code>:</em></strong></li>
</ul>
<p>Este cruce utiliza un gráfico de barras apiladas en proporciones, adecuado para dos variables categóricas. El análisis considera únicamente a quienes han declarado haber consumido alcohol en algún momento de su vida.</p>
<p>El código es el siguiente:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: grafico-preocupacion</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 9</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Gráfico 3: Proporción de Preocupación Externa por el Consumo de Alcohol"</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_reducida <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(preocupacion_consumo)), </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> consumo_vida, <span class="at">fill =</span> preocupacion_consumo)) <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Relación entre consumo de alcohol y preocupación de consumo "</span>, </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"¿Ha consumido alcohol en su vida?"</span>, </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proporción"</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Preocupación"</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Evaluación_Sumativa_1_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Los resultados muestran que la proporción mayoritaria corresponde a personas que no han recibido comentarios, advertencias ni sugerencias respecto a su forma de beber. Las categorías “Sí, pero no en el último año” y “Sí, en el último año” representan porcentajes muy reducidos respecto del total.</p>
<p>Esto indica que, aunque el consumo de alcohol es altamente prevalente entre quienes declaran haber bebido alguna vez, la percepción externa de riesgo o preocupación por ese consumo es minoritaria. La mayoría no ha recibido señales de alerta por parte de familiares, amigos o profesionales de la salud, lo que sugiere que el consumo declarado podría ser mayormente social u ocasional, o que no se reconoce ni señala como problemático.</p>
</section>
<section id="o-una-tabla-de-resultados-bivariados-donde-se-resuma-la-relación" class="level4">
<h4 class="anchored" data-anchor-id="o-una-tabla-de-resultados-bivariados-donde-se-resuma-la-relación">o Una tabla de resultados bivariados, donde se resuma la relación:</h4>
</section>
</section>
<section id="tabla-de-resultados-bivariados" class="level2">
<h2 class="anchored" data-anchor-id="tabla-de-resultados-bivariados">Tabla de resultados bivariados</h2>
<div class="columns">
<div class="column">
<section id="cruces-y-tipos-de-relación" class="level3">
<h3 class="anchored" data-anchor-id="cruces-y-tipos-de-relación">Cruces y tipos de relación</h3>
<ul>
<li><p><strong>consumo_vida × edad_inicio</strong><br>
<em>Categórica × Numérica</em></p></li>
<li><p><strong>consumo_vida × dias_consumo_30</strong><br>
<em>Categórica × Numérica</em></p></li>
<li><p><strong>consumo_vida × preocupacion_consumo</strong><br>
<em>Categórica × Categórica</em></p></li>
</ul>
</section>
</div><div class="column">
<section id="resumen-de-resultados" class="level3">
<h3 class="anchored" data-anchor-id="resumen-de-resultados">Resumen de resultados</h3>
<ul>
<li><p>La mayoría inicia entre <strong>15 y 20 años</strong>; mediana en adolescencia tardía; pocos casos atípicos sobre 30.</p></li>
<li><p>Consumo mensual mayoritariamente <strong>bajo (2–3 días)</strong>; valores entre 1–5 días; pocos casos intensivos (15–30 días).</p></li>
<li><p>Predomina la <strong>ausencia de preocupación</strong>; advertencias recientes representan proporciones muy bajas.</p></li>
</ul>
</section>
</div>
</div>
</section>
<section id="conclusiones" class="level1">
<h1>Conclusiones</h1>
<section id="analisis-de-las-variables-y-de-los-datos-enpg-2022-sobre-el-alcohol" class="level3">
<h3 class="anchored" data-anchor-id="analisis-de-las-variables-y-de-los-datos-enpg-2022-sobre-el-alcohol">Analisis de las variables y de los datos ENPG 2022 sobre el alcohol</h3>
<p>En general, el análisis muestra que el consumo de alcohol es una conducta muy extendida en la muestra, ya que la mayoría declara haber bebido alguna vez en su vida. Entre quienes sí han consumido, la edad de inicio se concentra principalmente entre los 16 y 20 años, reflejando un patrón de inicio temprano que coincide con otros estudios nacionales. En cuanto a la frecuencia mensual, la mayor parte del grupo mantiene un consumo ocasional o esporádico, aunque existe un pequeño subconjunto que presenta un consumo intensivo, llegando a 15 o incluso 30 días dentro del mes. Al observar la preocupación externa, se aprecia que la mayoría no ha recibido advertencias o comentarios sobre su forma de beber, lo que puede significar que el consumo declarado es mayormente social o que estos patrones, incluso cuando son más elevados, no siempre son percibidos como problemáticos por el entorno. En resumen, los datos muestran un consumo generalizado pero moderado en la mayoría, junto con un grupo reducido que concentra los niveles más altos de riesgo.</p>
</section>
<section id="analisis-de-la-reproducibilidad-del-informe" class="level3">
<h3 class="anchored" data-anchor-id="analisis-de-la-reproducibilidad-del-informe">Analisis de la reproducibilidad del informe</h3>
<p>Uno de los aspectos que intenté implementar para que este informe sea realmente reproducible es mantener una estructura clara y fija del proyecto, donde los datos estén guardados siempre en la misma carpeta (“Evaluación 1/”) y el código apunte directamente a esa ruta. Además, cargué explícitamente todas las librerías necesarias al inicio, de forma que cualquier persona que abra este archivo tenga disponible el mismo conjunto de paquetes. También dejé documentado cada paso del proceso—importación, selección, limpieza, recodificación, análisis descriptivo y análisis bivariado—tanto en texto como en código, de manera que se pueda seguir el flujo completo sin perderse. La idea es que cualquier usuario pueda ejecutar este archivo desde cero y obtener exactamente los mismos resultados. Finalmente, incluir <code>sessionInfo()</code> permite dejar un registro del entorno y de las versiones de los paquetes utilizados, lo que es fundamental para evitar diferencias entre sistemas o configuraciones de R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Se aplica session info para indicar si la reproducibilidad fue bien aplicada</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.3 (2024-02-29 ucrt)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19045)

Matrix products: default


locale:
[1] LC_COLLATE=Spanish_Chile.utf8  LC_CTYPE=Spanish_Chile.utf8   
[3] LC_MONETARY=Spanish_Chile.utf8 LC_NUMERIC=C                  
[5] LC_TIME=Spanish_Chile.utf8    

time zone: America/Santiago
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] rio_1.2.4       haven_2.5.4     skimr_2.2.1     lubridate_1.9.3
 [5] forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4     purrr_1.0.2    
 [9] readr_2.1.5     tidyr_1.3.1     tibble_3.2.1    ggplot2_4.0.1  
[13] tidyverse_2.0.0

loaded via a namespace (and not attached):
 [1] utf8_1.2.4         generics_0.1.3     stringi_1.8.3      hms_1.1.3         
 [5] digest_0.6.35      magrittr_2.0.3     evaluate_0.23      grid_4.3.3        
 [9] timechange_0.3.0   RColorBrewer_1.1-3 fastmap_1.1.1      R.oo_1.26.0       
[13] jsonlite_1.8.8     R.utils_2.12.3     fansi_1.0.6        scales_1.4.0      
[17] cli_3.6.2          rlang_1.1.3        R.methodsS3_1.8.2  base64enc_0.1-3   
[21] withr_3.0.0        repr_1.1.7         yaml_2.3.8         tools_4.3.3       
[25] tzdb_0.4.0         vctrs_0.6.5        R6_2.5.1           lifecycle_1.0.4   
[29] htmlwidgets_1.6.4  pkgconfig_2.0.3    pillar_1.9.0       gtable_0.3.6      
[33] glue_1.7.0         xfun_0.43          tidyselect_1.2.1   rstudioapi_0.16.0 
[37] knitr_1.46         farver_2.1.1       htmltools_0.5.8.1  labeling_0.4.3    
[41] rmarkdown_2.26     compiler_4.3.3     S7_0.2.0          </code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>